## Intro

We've already created the search bar box in the navbar. Now it's time to make it functional.

Here's what we have:

```
            <div className='search-wrapper'>
                <div className='search-field'>
                    <input
                        type='text'
                        placeholder='Search generators'
                        label="Search generators"
                    >
                    </input>
                    <button><FontAwesomeIcon icon="magnifying-glass" /> Search</button>
                </div>
            </div>
```

We'll transform this into a component of its own (the styles will remain in the navbar stylesheet though), and will later render this in the navbar.

```
import React, { UseState, UseEffect } from 'react';
import axios from "axios"

export default function SearchBar({ data }) {
    return (
        <div className='search-wrapper'>
            <div className='search-field'>
                <input
                    type='text'
                    placeholder='Search generators'
                    label="Search generators"
                    //onChange={ }
                >
                </input>
            </div>
        </div>
    );
}
```

> We're using a functional component because we need to wrap render divs inside js code, and this cannot be done with class components because the render method is separated from the logic of the app. However, we can work with state if we import ``UseState`` from React, as well as using the equivalent of ```ComponentDidMount``, which is ``UseEffect``.

> Put labels doubling the placeholders' texts. Labels are legible by screen readers while placeholders are not.

> Removed the search button because we won't need it, the results will appear as we type.

## Displaying results

We want the results to display on screen as we type, so we'll add another field to the searchbar, but first we need to call axios to get the data, and mount that in order to later on render content on the screen:

```
const SearchBar = () => {
    const [data, setData] = useState([]);

    useEffect(() => {
        const getData = async () => {
            try {
                const response = await axios.get("http://localhost:5000/tables")
                setData(response.data);
            } catch (error) {
                console.log("An error happened", error)
            }
        }

        getData();
    }, []); // Empty dependency array ensures this runs once after initial render
```

Here we're calling axios and later calling in the function that calls it (getData) inside the useEffect function, thus mounting it. Now we'll display the data in the render section of the component:

```
<div className="search-results">
   {data.map(item => {
       return <SingleItem key={item.item_id} item_id={item.item_id} title={item.item_title} content={item.item_content} slug={item.item_title} category={item.item_category} />
   })}
```

Here we're mapping the data and returning the SingleItem component, repeating the process of the **item-container.js** file.

Now all the items appear below the searchbar, but we don't want this to appear always, just when the user is typing in.

## Searchbar logic

Continuing with the search bar, we need a new handler that filters data. So we get this:

```
handleFilter(event) {
        const SearchedTerm = event.target.value
        const NewFilter = this.state.data.filter(item => {
            return item.item_title.includes(SearchedTerm)
        })
    }
```

SearchedTerm points to the typed value. NewFilter calls the state and returns item titles' that include SearchedTerm.

Now we'll add two more states. One will hold the filtered data, the other one will hold the words we're searching.

```
const [data, setData, filteredData, setFilteredData] = useState([]);
```
